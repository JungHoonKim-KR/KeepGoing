<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="keepgoing.demo.domain.FoodMapper">

    <resultMap id="FoodResultMap" type="keepgoing.demo.domain.diet.entity.Food" autoMapping="true">
        <id property="code" column="code"/>

    </resultMap>
    <!-- 전체 목록 조회 (SELECT ALL) -->
    <select id="selectFoodList" resultMap="FoodResultMap">
        SELECT
        *
        FROM
        food
        LIMIT 100
    </select>
    <!-- 단일 레코드 조회 (SELECT BY ID) -->
    <select id="selectFoodByCode" resultMap="FoodResultMap" parameterType="String">
        SELECT
            *
        FROM
            food
        WHERE
            code = #{code}
    </select>

    <!-- 데이터 삽입 (INSERT) -->
    <insert id="insertFood" parameterType="keepgoing.demo.domain.diet.entity.Food">
        INSERT INTO food (
            code, name, data_type_name, middle_category_name, food_weight,
            serving_size, energy, water, protein, fat, ash, carbohydrate, sugars, sodium
        ) VALUES (
                     #{code}, #{name}, #{dataTypeName}, #{middleCategoryName}, #{foodWeight},
                     #{servingSize}, #{energy}, #{water}, #{protein}, #{fat}, #{ash}, #{carbohydrate}, #{sugars}, #{sodium}
                 )
    </insert>

    <!-- 데이터 수정 (UPDATE) -->
    <update id="updateFood" parameterType="keepgoing.demo.domain.diet.entity.Food">
        UPDATE food
        SET
            name = #{name},
            data_type_name = #{dataTypeName},
            middle_category_name = #{middleCategoryName},
            food_weight = #{foodWeight},
            serving_size = #{servingSize},
            energy = #{energy},
            water = #{water},
            protein = #{protein},
            fat = #{fat},
            ash = #{ash},
            carbohydrate = #{carbohydrate},
            sugars = #{sugars},
            sodium = #{sodium}
        WHERE
            code = #{code}
    </update>

    <!-- 데이터 삭제 (DELETE) -->
    <delete id="deleteFood" parameterType="String">
        DELETE FROM food
        WHERE
            code = #{code}
    </delete>

</mapper>